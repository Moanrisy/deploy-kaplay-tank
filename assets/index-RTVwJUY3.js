import{E as m}from"./kaplay-DBPwJhjK.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&d(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();function f(e){const r=e.add([e.pos(120,80),e.sprite("bean"),e.area(),e.body(),"player",{speed:7e3,dir:e.vec2(0,0)}]);return e.onButtonDown("up",()=>{r.move(0,-r.speed*e.dt())}),e.onButtonDown("down",()=>{r.move(0,r.speed*e.dt())}),e.onButtonDown("left",()=>{r.move(-r.speed*e.dt(),0)}),e.onButtonDown("right",()=>{r.move(r.speed*e.dt(),0)}),r}const i=["#000000","#1D2B53","#7E2553","#008751","#AB5236","#5F574F","#C2C3C7","#FFF1E8","#FF004D","#FFA300","#FFEC27","#00E436","#29ADFF","#83769C","#FF77A8","#FFCCAA"],a=m({width:1280,height:1024,buttons:{next:{keyboard:"space",mouse:"left"},up:{keyboard:["w","up"],gamepad:["dpad-up"]},down:{keyboard:["s","down"],gamepad:["dpad-down"]},left:{keyboard:["a","left"],gamepad:["dpad-left"]},right:{keyboard:["d","right"],gamepad:["dpad-right"]},aButton:{keyboard:["space"],gamepad:["south","ltrigger","rtrigger"]}}});a.loadRoot("./");var l=nipplejs.create({zone:document.getElementById("joystick"),mode:"static",position:{left:"20%",top:"50%"},color:"green",size:150});a.loadSprite("map","maps/map.png");a.loadSprite("bean","sprites/bean.png");a.scene("gameloop",()=>{a.add([a.sprite("map"),a.pos()]);let e=f(a),r={x:0,y:0},s=0,d=!1,t=200;["up","down","left","right"].forEach(o=>{const n=document.getElementById(o);new Hammer(n).on("tap",()=>{switch(console.log(o+" pressed"),o){case"up":e.use(a.color(i[1]));break;case"down":e.use(a.color(i[7]));break;case"left":e.use(a.color(i[9]));break;case"right":e.use(a.color(i[12]));break}})}),l.on("start",(o,n)=>{d=!0}),l.on("move",(o,n)=>{let c=n.force;const p=1;c>p&&(c=p),s=c;const u=n.angle.radian;r={x:Math.cos(u)*s*t,y:-Math.sin(u)*s*t}}),l.on("end",(o,n)=>{d=!1,s=0,e.move(0,0)}),a.onUpdate(()=>{d&&s>0&&e.move(r.x,r.y)})});a.go("gameloop");
//# sourceMappingURL=index-RTVwJUY3.js.map
